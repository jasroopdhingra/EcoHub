{"ast":null,"code":"var _jsxFileName = \"/Users/elizabethgarson/Documents/github/EcoHub/ecohub/src/pages/Map.jsx\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport maplibregl from 'maplibre-gl';\nimport 'maplibre-gl/dist/maplibre-gl.css';\nimport Forum from './Forum'; // Importing the existing Forum component\nimport styles from '../styles/Map.module.css'; // Ensure this points to the correct CSS file\n\nconst MapPage = () => {\n  const mapRef = useRef(null); // Reference for the map\n  const mapContainerRef = useRef(null); // Reference for the map container\n\n  // Forum data (you could import or fetch this data from an API)\n  const posts = [{\n    title: 'Post 1',\n    content: 'Description 1',\n    lat: 42.3375,\n    lng: -71.1945\n  }, {\n    title: 'Post 2',\n    content: 'Description 2',\n    lat: 42.3381,\n    lng: -71.1920\n  }\n  // Add more posts with coordinates as needed\n  ];\n  useEffect(() => {\n    // Initialize the map centered around Boston College\n    mapRef.current = new maplibregl.Map({\n      container: mapContainerRef.current,\n      style: 'https://api.maptiler.com/maps/basic-v2/style.json?key=zxI0KxtpdcNfhTmR7PEA',\n      center: [-71.1945, 42.3375],\n      // Boston College main campus coordinates\n      zoom: 14\n    });\n\n    // Add markers for each post with coordinates\n    posts.forEach(post => {\n      if (post.lat && post.lng) {\n        const marker = new maplibregl.Marker().setLngLat([post.lng, post.lat]).setPopup(new maplibregl.Popup().setHTML(`<h3>${post.title}</h3><p>${post.content}</p>`)).addTo(mapRef.current);\n\n        // Add click event to center map on the clicked post's location\n        marker.getElement().addEventListener('click', () => {\n          mapRef.current.flyTo({\n            center: [post.lng, post.lat],\n            zoom: 15\n          });\n        });\n      }\n    });\n    return () => {\n      if (mapRef.current) {\n        mapRef.current.remove(); // Cleanup map when component unmounts\n      }\n    };\n  }, [posts]);\n\n  // Callback for forum post click\n  const handlePostClick = (lat, lng) => {\n    if (mapRef.current) {\n      mapRef.current.flyTo({\n        center: [lng, lat],\n        zoom: 15\n      });\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.pageContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.mapContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: mapContainerRef,\n    className: styles.map,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.forumContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Forum, {\n    posts: posts,\n    onPostClick: handlePostClick // Pass the callback to Forum component\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  })));\n};\nexport default MapPage;","map":{"version":3,"names":["React","useState","useEffect","useRef","maplibregl","Forum","styles","MapPage","mapRef","mapContainerRef","posts","title","content","lat","lng","current","Map","container","style","center","zoom","forEach","post","marker","Marker","setLngLat","setPopup","Popup","setHTML","addTo","getElement","addEventListener","flyTo","remove","handlePostClick","createElement","className","pageContainer","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","mapContainer","ref","map","forumContainer","onPostClick"],"sources":["/Users/elizabethgarson/Documents/github/EcoHub/ecohub/src/pages/Map.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport maplibregl from 'maplibre-gl';\nimport 'maplibre-gl/dist/maplibre-gl.css';\nimport Forum from './Forum'; // Importing the existing Forum component\nimport styles from '../styles/Map.module.css';  // Ensure this points to the correct CSS file\n\nconst MapPage = () => {\n  const mapRef = useRef(null); // Reference for the map\n  const mapContainerRef = useRef(null); // Reference for the map container\n\n  // Forum data (you could import or fetch this data from an API)\n  const posts = [\n    { title: 'Post 1', content: 'Description 1', lat: 42.3375, lng: -71.1945 },\n    { title: 'Post 2', content: 'Description 2', lat: 42.3381, lng: -71.1920 },\n    // Add more posts with coordinates as needed\n  ];\n\n  useEffect(() => {\n    // Initialize the map centered around Boston College\n    mapRef.current = new maplibregl.Map({\n      container: mapContainerRef.current, \n      style: 'https://api.maptiler.com/maps/basic-v2/style.json?key=zxI0KxtpdcNfhTmR7PEA', \n      center: [-71.1945, 42.3375], // Boston College main campus coordinates\n      zoom: 14\n    });\n\n    // Add markers for each post with coordinates\n    posts.forEach(post => {\n      if (post.lat && post.lng) {\n        const marker = new maplibregl.Marker()\n          .setLngLat([post.lng, post.lat])\n          .setPopup(new maplibregl.Popup().setHTML(`<h3>${post.title}</h3><p>${post.content}</p>`))\n          .addTo(mapRef.current);\n\n        // Add click event to center map on the clicked post's location\n        marker.getElement().addEventListener('click', () => {\n          mapRef.current.flyTo({ center: [post.lng, post.lat], zoom: 15 });\n        });\n      }\n    });\n\n    return () => {\n      if (mapRef.current) {\n        mapRef.current.remove(); // Cleanup map when component unmounts\n      }\n    };\n  }, [posts]);\n\n  // Callback for forum post click\n  const handlePostClick = (lat, lng) => {\n    if (mapRef.current) {\n      mapRef.current.flyTo({ center: [lng, lat], zoom: 15 });\n    }\n  };\n\n  return (\n    <div className={styles.pageContainer}>\n      <div className={styles.mapContainer}>\n        <div ref={mapContainerRef} className={styles.map}></div>\n      </div>\n      <div className={styles.forumContainer}>\n        <Forum \n          posts={posts} \n          onPostClick={handlePostClick}  // Pass the callback to Forum component\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default MapPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}