{"ast":null,"code":"var _jsxFileName = \"/Users/elizabethgarson/Documents/github/EcoHub/ecohub/src/pages/Map.jsx\";\n// src/pages/MapWithForum.jsx\nimport React, { useRef, useEffect, useState } from 'react';\nimport maplibregl from 'maplibre-gl';\nimport 'maplibre-gl/dist/maplibre-gl.css';\nimport Navbar from '../components/Navbar.jsx';\nimport initialStore from '../assets/initialStore.json';\nimport styles from '../styles/Map.module.css';\nconst MapWithForum = () => {\n  const mapRef = useRef(null);\n  const mapContainerRef = useRef(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const posts = initialStore['forum-posts'];\n  useEffect(() => {\n    const apiKey = 'zxI0KxtpdcNfhTmR7PEA';\n    const map = new maplibregl.Map({\n      container: mapContainerRef.current,\n      style: `https://api.maptiler.com/maps/basic-v2/style.json?key=${apiKey}`,\n      center: [-71.163, 42.3355],\n      zoom: 13.75\n    });\n    posts.forEach(post => {\n      if (post.lat && post.lng) {\n        new maplibregl.Marker().setLngLat([post.lng, post.lat]).setPopup(new maplibregl.Popup().setHTML(`<h3>${post.title}</h3>`)).addTo(map);\n      }\n    });\n    mapRef.current = map;\n    return () => map.remove();\n  }, [posts]);\n  const handleSearch = () => {\n    if (!searchQuery.trim()) return;\n    const apiKey = 'zxI0KxtpdcNfhTmR7PEA';\n    fetch(`https://api.maptiler.com/geocoding/${searchQuery}.json?key=${apiKey}`).then(res => res.json()).then(data => {\n      var _data$features$;\n      const [lng, lat] = ((_data$features$ = data.features[0]) === null || _data$features$ === void 0 ? void 0 : _data$features$.geometry.coordinates) || [];\n      if (lat && lng) {\n        mapRef.current.flyTo({\n          center: [lng, lat],\n          zoom: 14\n        });\n      }\n    }).catch(err => {\n      console.error('Geocoding failed', err);\n      alert('Location not found');\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.pageContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.mapSection,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.searchContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, \"Events near:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.searchBar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Search location\",\n    value: searchQuery,\n    onChange: e => setSearchQuery(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, \"Search\"))), /*#__PURE__*/React.createElement(\"div\", {\n    ref: mapContainerRef,\n    className: styles.mapContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.forumFeed,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, \"Forum Feed\"), posts.map((post, idx) => /*#__PURE__*/React.createElement(\"div\", {\n    key: idx,\n    className: styles.feedCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.feedTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, post.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.feedTags,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, post.tags.map((tag, i) => /*#__PURE__*/React.createElement(\"span\", {\n    key: i,\n    className: styles.tag,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 19\n    }\n  }, tag))))))));\n};\nexport default MapWithForum;","map":{"version":3,"names":["React","useRef","useEffect","useState","maplibregl","Navbar","initialStore","styles","MapWithForum","mapRef","mapContainerRef","searchQuery","setSearchQuery","posts","apiKey","map","Map","container","current","style","center","zoom","forEach","post","lat","lng","Marker","setLngLat","setPopup","Popup","setHTML","title","addTo","remove","handleSearch","trim","fetch","then","res","json","data","_data$features$","features","geometry","coordinates","flyTo","catch","err","console","error","alert","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","pageContainer","mapSection","searchContainer","label","searchBar","type","placeholder","value","onChange","e","target","onClick","ref","mapContainer","forumFeed","idx","key","feedCard","feedTitle","feedTags","tags","tag","i"],"sources":["/Users/elizabethgarson/Documents/github/EcoHub/ecohub/src/pages/Map.jsx"],"sourcesContent":["// src/pages/MapWithForum.jsx\nimport React, { useRef, useEffect, useState } from 'react';\nimport maplibregl from 'maplibre-gl';\nimport 'maplibre-gl/dist/maplibre-gl.css';\nimport Navbar from '../components/Navbar.jsx';\nimport initialStore from '../assets/initialStore.json';\nimport styles from '../styles/Map.module.css';\n\nconst MapWithForum = () => {\n  const mapRef = useRef(null);\n  const mapContainerRef = useRef(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const posts = initialStore['forum-posts'];\n\n  useEffect(() => {\n    const apiKey = 'zxI0KxtpdcNfhTmR7PEA';\n    const map = new maplibregl.Map({\n      container: mapContainerRef.current,\n      style: `https://api.maptiler.com/maps/basic-v2/style.json?key=${apiKey}`,\n      center: [-71.163, 42.3355],\n      zoom: 13.75,\n    });\n\n    posts.forEach(post => {\n      if (post.lat && post.lng) {\n        new maplibregl.Marker()\n          .setLngLat([post.lng, post.lat])\n          .setPopup(new maplibregl.Popup().setHTML(`<h3>${post.title}</h3>`))\n          .addTo(map);\n      }\n    });\n\n    mapRef.current = map;\n\n    return () => map.remove();\n  }, [posts]);\n\n  const handleSearch = () => {\n    if (!searchQuery.trim()) return;\n    const apiKey = 'zxI0KxtpdcNfhTmR7PEA';\n    fetch(`https://api.maptiler.com/geocoding/${searchQuery}.json?key=${apiKey}`)\n      .then(res => res.json())\n      .then(data => {\n        const [lng, lat] = data.features[0]?.geometry.coordinates || [];\n        if (lat && lng) {\n          mapRef.current.flyTo({ center: [lng, lat], zoom: 14 });\n        }\n      })\n      .catch(err => {\n        console.error('Geocoding failed', err);\n        alert('Location not found');\n      });\n  };\n\n  return (\n    <>\n      <Navbar />\n      <div className={styles.pageContainer}>\n        <div className={styles.mapSection}>\n          <div className={styles.searchContainer}>\n            <span className={styles.label}>Events near:</span>\n            <div className={styles.searchBar}>\n              <input\n                type=\"text\"\n                placeholder=\"Search location\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n              />\n              <button onClick={handleSearch}>Search</button>\n            </div>\n          </div>\n          <div ref={mapContainerRef} className={styles.mapContainer} />\n        </div>\n        <div className={styles.forumFeed}>\n          <h2>Forum Feed</h2>\n          {posts.map((post, idx) => (\n            <div key={idx} className={styles.feedCard}>\n              <div className={styles.feedTitle}>{post.title}</div>\n              <div className={styles.feedTags}>\n                {post.tags.map((tag, i) => (\n                  <span key={i} className={styles.tag}>{tag}</span>\n                ))}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default MapWithForum;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}