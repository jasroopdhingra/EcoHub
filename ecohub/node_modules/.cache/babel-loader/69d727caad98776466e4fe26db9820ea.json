{"ast":null,"code":"var _jsxFileName = \"/Users/elizabethgarson/Documents/github/EcoHub/ecohub/src/pages/Map.jsx\";\nimport React, { useRef, useEffect, useState } from 'react';\nimport Navbar from '../components/Navbar.jsx';\nimport maplibregl from 'maplibre-gl';\nimport 'maplibre-gl/dist/maplibre-gl.css';\nimport styles from '../styles/Map.module.css';\nimport initialStore from '../assets/initialStore.json';\nfunction MapWithForum() {\n  const mapRef = useRef(null);\n  const mapContainerRef = useRef(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const events = initialStore[\"forum-posts\"];\n  useEffect(() => {\n    const apiKey = 'zxI0KxtpdcNfhTmR7PEA';\n    mapRef.current = new maplibregl.Map({\n      container: mapContainerRef.current,\n      style: `https://api.maptiler.com/maps/basic-v2/style.json?key=${apiKey}`,\n      center: [-71.163, 42.3355],\n      zoom: 13.75\n    });\n\n    // Add event markers (mocked at BC location)\n    events.forEach(post => {\n      new maplibregl.Marker().setLngLat([-71.163, 42.3355]) // Boston College location\n      .setPopup(new maplibregl.Popup().setText(post.title)).addTo(mapRef.current);\n    });\n    return () => {\n      if (mapRef.current) {\n        mapRef.current.remove();\n      }\n    };\n  }, [events]);\n  const handleSearch = () => {\n    const apiKey = 'zxI0KxtpdcNfhTmR7PEA';\n    fetch(`https://api.maptiler.com/geocoding/${searchQuery}.json?key=${apiKey}`).then(res => res.json()).then(data => {\n      var _data$features;\n      if ((_data$features = data.features) === null || _data$features === void 0 ? void 0 : _data$features.length) {\n        const [lng, lat] = data.features[0].geometry.coordinates;\n        mapRef.current.flyTo({\n          center: [lng, lat],\n          zoom: 14\n        });\n      } else {\n        alert(\"Location not found\");\n      }\n    });\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.pageContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.leftSide,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.searchBarWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \"Events near:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.searchBar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Search location\",\n    value: searchQuery,\n    onChange: e => setSearchQuery(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, \"Search\"))), /*#__PURE__*/React.createElement(\"div\", {\n    ref: mapContainerRef,\n    className: styles.mapContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.forumFeed,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, events.map((post, idx) => /*#__PURE__*/React.createElement(\"div\", {\n    key: idx,\n    className: styles.feedCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.feedTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, post.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.feedTags,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, post.tags.map((tag, i) => /*#__PURE__*/React.createElement(\"span\", {\n    key: i,\n    className: styles.tag,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 19\n    }\n  }, tag))))))));\n}\nexport default MapWithForum;","map":{"version":3,"names":["React","useRef","useEffect","useState","Navbar","maplibregl","styles","initialStore","MapWithForum","mapRef","mapContainerRef","searchQuery","setSearchQuery","events","apiKey","current","Map","container","style","center","zoom","forEach","post","Marker","setLngLat","setPopup","Popup","setText","title","addTo","remove","handleSearch","fetch","then","res","json","data","_data$features","features","length","lng","lat","geometry","coordinates","flyTo","alert","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","pageContainer","leftSide","searchBarWrapper","label","searchBar","type","placeholder","value","onChange","e","target","onClick","ref","mapContainer","forumFeed","map","idx","key","feedCard","feedTitle","feedTags","tags","tag","i"],"sources":["/Users/elizabethgarson/Documents/github/EcoHub/ecohub/src/pages/Map.jsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport Navbar from '../components/Navbar.jsx';\nimport maplibregl from 'maplibre-gl';\nimport 'maplibre-gl/dist/maplibre-gl.css';\nimport styles from '../styles/Map.module.css';\nimport initialStore from '../assets/initialStore.json';\n\nfunction MapWithForum() {\n  const mapRef = useRef(null);\n  const mapContainerRef = useRef(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const events = initialStore[\"forum-posts\"];\n\n  useEffect(() => {\n    const apiKey = 'zxI0KxtpdcNfhTmR7PEA';\n\n    mapRef.current = new maplibregl.Map({\n      container: mapContainerRef.current,\n      style: `https://api.maptiler.com/maps/basic-v2/style.json?key=${apiKey}`,\n      center: [-71.163, 42.3355],\n      zoom: 13.75,\n    });\n\n    // Add event markers (mocked at BC location)\n    events.forEach(post => {\n      new maplibregl.Marker()\n        .setLngLat([-71.163, 42.3355]) // Boston College location\n        .setPopup(new maplibregl.Popup().setText(post.title))\n        .addTo(mapRef.current);\n    });\n\n    return () => {\n      if (mapRef.current) {\n        mapRef.current.remove();\n      }\n    };\n  }, [events]);\n\n  const handleSearch = () => {\n    const apiKey = 'zxI0KxtpdcNfhTmR7PEA';\n    fetch(`https://api.maptiler.com/geocoding/${searchQuery}.json?key=${apiKey}`)\n      .then(res => res.json())\n      .then(data => {\n        if (data.features?.length) {\n          const [lng, lat] = data.features[0].geometry.coordinates;\n          mapRef.current.flyTo({ center: [lng, lat], zoom: 14 });\n        } else {\n          alert(\"Location not found\");\n        }\n      });\n  };\n\n  return (\n    <>\n      <Navbar />\n      <div className={styles.pageContainer}>\n        <div className={styles.leftSide}>\n          <div className={styles.searchBarWrapper}>\n            <div className={styles.label}>Events near:</div>\n            <div className={styles.searchBar}>\n              <input\n                type=\"text\"\n                placeholder=\"Search location\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n              />\n              <button onClick={handleSearch}>Search</button>\n            </div>\n          </div>\n\n          <div ref={mapContainerRef} className={styles.mapContainer} />\n        </div>\n\n        <div className={styles.forumFeed}>\n          {events.map((post, idx) => (\n            <div key={idx} className={styles.feedCard}>\n              <div className={styles.feedTitle}>{post.title}</div>\n              <div className={styles.feedTags}>\n                {post.tags.map((tag, i) => (\n                  <span key={i} className={styles.tag}>{tag}</span>\n                ))}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default MapWithForum;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}