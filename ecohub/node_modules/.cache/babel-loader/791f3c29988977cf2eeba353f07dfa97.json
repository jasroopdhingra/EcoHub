{"ast":null,"code":"var _jsxFileName = \"/Users/elizabethgarson/Documents/github/EcoHub/ecohub/src/pages/Forum.jsx\";\nimport React, { useRef, useEffect, useState } from 'react';\nimport Navbar from \"../components/Navbar.jsx\";\nimport maplibregl from 'maplibre-gl';\nimport 'maplibre-gl/dist/maplibre-gl.css';\nimport styles from \"../styles/Map.module.css\";\nimport initialStore from '../assets/initialStore.json';\nfunction Map() {\n  const mapRef = useRef(null);\n  const mapContainerRef = useRef(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const posts = initialStore[\"forum-posts\"];\n  useEffect(() => {\n    const apiKey = 'zxI0KxtpdcNfhTmR7PEA';\n    mapRef.current = new maplibregl.Map({\n      container: mapContainerRef.current,\n      style: `https://api.maptiler.com/maps/basic-v2/style.json?key=${apiKey}`,\n      center: [-71.163, 42.3355],\n      zoom: 13.75\n    });\n    posts.forEach(post => {\n      if (post.lat && post.lng) {\n        new maplibregl.Marker().setLngLat([post.lng, post.lat]).setPopup(new maplibregl.Popup().setHTML(`<h3>${post.title}</h3><p>${post.content}</p>`)).addTo(mapRef.current);\n      }\n    });\n    return () => {\n      if (mapRef.current) {\n        mapRef.current.remove();\n      }\n    };\n  }, [posts]);\n  const handleSearch = () => {\n    if (searchQuery.trim()) {\n      const apiKey = 'zxI0KxtpdcNfhTmR7PEA';\n      fetch(`https://api.maptiler.com/geocoding/${searchQuery}.json?key=${apiKey}`).then(response => response.json()).then(data => {\n        if (data.features && data.features.length > 0) {\n          const location = data.features[0].geometry.coordinates;\n          mapRef.current.flyTo({\n            center: location,\n            zoom: 14\n          });\n        } else {\n          alert(\"Location not found\");\n        }\n      }).catch(err => {\n        console.error(\"Geocoding error:\", err);\n        alert(\"An error occurred while searching for the location.\");\n      });\n    }\n  };\n  const flyToPost = (lat, lng) => {\n    if (mapRef.current && lat && lng) {\n      mapRef.current.flyTo({\n        center: [lng, lat],\n        zoom: 15\n      });\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"main\", {\n    className: styles.mapForumPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['search-container'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['events-label'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, \"Events near:\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['search-bar'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Search location\",\n    value: searchQuery,\n    onChange: e => setSearchQuery(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, \"Search\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.contentWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: mapContainerRef,\n    className: styles['map-container'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.sidebar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, \"Forum Feed\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: styles.feedList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, posts.map((post, idx) => /*#__PURE__*/React.createElement(\"li\", {\n    key: idx,\n    className: styles.feedItem,\n    onClick: () => flyToPost(post.lat, post.lng),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, post.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.tags,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, post.tags.join(', '))))))));\n}\nexport default Map;","map":{"version":3,"names":["React","useRef","useEffect","useState","Navbar","maplibregl","styles","initialStore","Map","mapRef","mapContainerRef","searchQuery","setSearchQuery","posts","apiKey","current","container","style","center","zoom","forEach","post","lat","lng","Marker","setLngLat","setPopup","Popup","setHTML","title","content","addTo","remove","handleSearch","trim","fetch","then","response","json","data","features","length","location","geometry","coordinates","flyTo","alert","catch","err","console","error","flyToPost","createElement","className","mapForumPage","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","contentWrapper","ref","sidebar","feedList","map","idx","key","feedItem","tags","join"],"sources":["/Users/elizabethgarson/Documents/github/EcoHub/ecohub/src/pages/Forum.jsx"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport Navbar from \"../components/Navbar.jsx\"; \nimport maplibregl from 'maplibre-gl';\nimport 'maplibre-gl/dist/maplibre-gl.css';\nimport styles from \"../styles/Map.module.css\";\nimport initialStore from '../assets/initialStore.json';\n\nfunction Map() {\n  const mapRef = useRef(null);\n  const mapContainerRef = useRef(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const posts = initialStore[\"forum-posts\"];\n\n  useEffect(() => {\n    const apiKey = 'zxI0KxtpdcNfhTmR7PEA';\n\n    mapRef.current = new maplibregl.Map({\n      container: mapContainerRef.current,\n      style: `https://api.maptiler.com/maps/basic-v2/style.json?key=${apiKey}`,\n      center: [-71.163, 42.3355],\n      zoom: 13.75,\n    });\n\n    posts.forEach(post => {\n      if (post.lat && post.lng) {\n        new maplibregl.Marker()\n          .setLngLat([post.lng, post.lat])\n          .setPopup(new maplibregl.Popup().setHTML(`<h3>${post.title}</h3><p>${post.content}</p>`))\n          .addTo(mapRef.current);\n      }\n    });\n\n    return () => {\n      if (mapRef.current) {\n        mapRef.current.remove();\n      }\n    };\n  }, [posts]);\n\n  const handleSearch = () => {\n    if (searchQuery.trim()) {\n      const apiKey = 'zxI0KxtpdcNfhTmR7PEA';\n      fetch(`https://api.maptiler.com/geocoding/${searchQuery}.json?key=${apiKey}`)\n        .then(response => response.json())\n        .then(data => {\n          if (data.features && data.features.length > 0) {\n            const location = data.features[0].geometry.coordinates;\n            mapRef.current.flyTo({\n              center: location,\n              zoom: 14,\n            });\n          } else {\n            alert(\"Location not found\");\n          }\n        })\n        .catch(err => {\n          console.error(\"Geocoding error:\", err);\n          alert(\"An error occurred while searching for the location.\");\n        });\n    }\n  };\n\n  const flyToPost = (lat, lng) => {\n    if (mapRef.current && lat && lng) {\n      mapRef.current.flyTo({ center: [lng, lat], zoom: 15 });\n    }\n  };\n\n  return (\n    <main className={styles.mapForumPage}>\n      <Navbar />\n      <div className={styles['search-container']}>\n        <div className={styles['events-label']}>\n          Events near: \n        </div>\n        <div className={styles['search-bar']}>\n          <input\n            type=\"text\"\n            placeholder=\"Search location\"\n            value={searchQuery}\n            onChange={e => setSearchQuery(e.target.value)}\n          />\n          <button onClick={handleSearch}>Search</button>\n        </div>\n      </div>\n      <div className={styles.contentWrapper}>\n        <div ref={mapContainerRef} className={styles['map-container']} />\n        <div className={styles.sidebar}>\n          <h3>Forum Feed</h3>\n          <ul className={styles.feedList}>\n            {posts.map((post, idx) => (\n              <li key={idx} className={styles.feedItem} onClick={() => flyToPost(post.lat, post.lng)}>\n                <strong>{post.title}</strong>\n                <div className={styles.tags}>{post.tags.join(', ')}</div>\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </main>\n  );\n}\n\nexport default Map;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}